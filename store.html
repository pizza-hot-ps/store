<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>🛒 متجر PIZZA HOT – الطلب الرمزي</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="assets/css/store.css">
</head>
<body>

<header>
  <img src="assets/images/logo.png" alt="PIZZA HOT" class="logo">
  <a href="index.html">🏠 الرئيسية</a>
  <a href="promo_offer.html">🔥 العروض</a>
  <a href="store.html">🛒 المتجر</a>
</header>

<div class="overlay">
  <h1>🛒 متجر PIZZA HOT – الطلب الرمزي</h1>

  <!-- ✅ الكود اليومي -->
  <div class="note-box">
    🎟️ الكود اليومي: <span id="daily-coupon-box">—</span><br>
    <button onclick="insertCoupon(document.getElementById('daily-coupon-box').textContent.trim(), 'primary')">
      📥 نسخ الكود اليومي إلى الحقل الأساسي
    </button>
  </div>

  <!-- ✅ تفعيل العروض الترويجية -->
  <div class="section">
    <h2>🎯 تفعيل العروض الترويجية</h2>
    <button onclick="activatePrimaryCoupon('CHICKENXL')">📥 بيتزا دجاج XL (رئيسي)</button>
    <button onclick="activateSecondaryCoupon('CHICKENXL')">📥 بيتزا دجاج XL (ثانوي)</button>
    <button onclick="activatePrimaryCoupon('FAMILYSET')">📥 العرض العائلي (رئيسي)</button>
    <button onclick="activateSecondaryCoupon('FAMILYSET')">📥 العرض العائلي (ثانوي)</button>
    <button onclick="activatePrimaryCoupon('WINGSDEAL')">📥 أجنحة الدجاج (رئيسي)</button>
    <button onclick="activateSecondaryCoupon('WINGSDEAL')">📥 أجنحة الدجاج (ثانوي)</button>
  </div>

  <!-- ✅ عرض الكتالوج -->
  <div class="section">
    <h2>🍕 قائمة البيتزا</h2>
    <table id="pizza-menu" class="menu-table">
      <thead><tr><th>النوع</th><th>الحجم</th><th>السعر</th><th>الكمية</th><th>الإجمالي</th><th>أضف</th></tr></thead>
      <tbody></tbody>
    </table>
  </div>

  <div class="section">
    <h2>🍟 أطباق جانبية</h2>
    <table id="sides-menu" class="menu-table">
      <thead><tr><th>الصنف</th><th>السعر</th><th>الكمية</th><th>الإجمالي</th><th>أضف</th></tr></thead>
      <tbody></tbody>
    </table>
  </div>

  <div class="section">
    <h2>🥤 مشروبات</h2>
    <div id="drinks-container" class="drinks-grid"></div>
  </div>

  <!-- ✅ إدارة السلة -->
  <div class="section">
    <h2>📦 إدارة السلة</h2>
    <input id="user-name" placeholder="👤 اسمك (اختياري)" />
    <input id="user-address" placeholder="📍 العنوان/هاتفك (اختياري)" />
    <input id="user-coupon" placeholder="🎟️ كود الخصم الرئيسي" />
    <input id="secondary-coupon" placeholder="🎟️ كود إضافي (ربع الخصم)" />
    <button onclick="renderCart()">☑ معاينة الطلب</button>
    <button onclick="CartCore.clear(); renderCart();">🗑️ تفريغ السلة</button>
    <button onclick="sendOrder()">📤 إرسال الطلب</button>
    <div id="cart-preview" class="cart-box"></div>
  </div>
</div>

<!-- ✅ تحميل السكربتات -->
<script src="assets/js/config.js"></script>
<script src="assets/js/catalog.js"></script>
<script src="assets/js/cart.js"></script>
<script src="assets/js/discountEngine.js"></script>
<script src="assets/js/rules.js"></script>
<script src="assets/js/messageBuilder.js"></script>
<script src="assets/js/store.js"></script>

<!-- ✅ دوال التفعيل -->
<script>
function activatePrimaryCoupon(code) {
  const input = document.getElementById("user-coupon");
  input.value = code;
  input.disabled = true;
  input.style.background = "#eee";
  input.style.cursor = "not-allowed";
  renderCart();
}

function activateSecondaryCoupon(code) {
  document.getElementById("secondary-coupon").value = code;
  renderCart();
}
</script>

</body>
</html>
