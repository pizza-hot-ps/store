<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>🛒 متجر PIZZA HOT – الطلب الرمزي</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="assets/css/store.css">
</head>
<body>

<header>
  <img src="assets/images/logo.png" alt="PIZZA HOT" class="logo">
  <a href="index.html">🏠 الرئيسية</a>
  <a href="promo_offer.html">🔥 العروض</a>
  <a href="store.html">🛒 المتجر</a>
</header>

<div class="overlay">
  <h1>🛒 متجر PIZZA HOT – الطلب الرمزي</h1>

  <div class="note-box">
    🎟️ الكود اليومي: <span id="daily-coupon-box">—</span><br>
    <button class="control-btn" onclick="insertCoupon(document.getElementById('daily-coupon-box').textContent.trim(), 'primary')">
      📥 نسخ الكود اليومي إلى الحقل الأساسي
    </button>
  </div>

  <div id="auto-discount-alert" class="auto-discount-alert">
    🎁 تم تفعيل خصم تلقائي اليوم — لا حاجة لإدخال كود.
  </div>

  <div class="section">
    <h2>🎯 تفعيل العروض الترويجية</h2>
    <button class="control-btn" onclick="activatePrimaryCoupon('CHICKENXL')">📥 بيتزا دجاج XL (رئيسي)</button>
    <button class="control-btn" onclick="activateSecondaryCoupon('CHICKENXL')">📥 بيتزا دجاج XL (ثانوي)</button>
    <button class="control-btn" onclick="activatePrimaryCoupon('FAMILYSET')">📥 العرض العائلي (رئيسي)</button>
    <button class="control-btn" onclick="activateSecondaryCoupon('FAMILYSET')">📥 العرض العائلي (ثانوي)</button>
    <button class="control-btn" onclick="activatePrimaryCoupon('WINGSDEAL')">📥 أجنحة الدجاج (رئيسي)</button>
    <button class="control-btn" onclick="activateSecondaryCoupon('WINGSDEAL')">📥 أجنحة الدجاج (ثانوي)</button>
  </div>

  <div class="section">
    <h2>🍕 قائمة البيتزا</h2>
    <table id="pizza-menu" class="menu-table">
      <thead><tr><th>النوع</th><th>الحجم</th><th>السعر</th><th>الكمية</th><th>الإجمالي</th><th>أضف</th></tr></thead>
      <tbody></tbody>
    </table>
  </div>

  <div class="section">
    <h2>🍟 أطباق جانبية</h2>
    <table id="sides-menu" class="menu-table">
      <thead><tr><th>الصنف</th><th>السعر</th><th>الكمية</th><th>الإجمالي</th><th>أضف</th></tr></thead>
      <tbody></tbody>
    </table>
  </div>

  <div class="section">
    <h2>🥤 مشروبات</h2>
    <div id="drinks-container" class="drinks-grid"></div>
  </div>

  <div class="section">
    <h2>📦 إدارة السلة</h2>
    <div id="cart-manager">
      <input id="user-name" placeholder="👤 اسمك (اختياري)" />
      <input id="user-address" placeholder="📍 العنوان/هاتفك (اختياري)" />
      <input id="user-coupon" placeholder="🎟️ كود الخصم الرئيسي" />
      <input id="secondary-coupon" placeholder="🎟️ كود إضافي (ربع الخصم)" />
      <button id="start-btn" class="control-btn">☑ معاينة الطلب</button>
      <button id="clear-cart" class="control-btn">🗑️ تفريغ السلة</button>
      <button id="send-wa" class="control-btn">📤 إرسال الطلب</button>
      <div id="cart-preview" class="cart-box"></div>
    </div>
  </div>

  <div class="section">
    <h2>📎 إدخال كود يدوي</h2>
    <button onclick="insertCouponFromClipboard('primary')" class="control-btn">📥 لصق كود في الحقل الأساسي</button>
    <button onclick="insertCouponFromClipboard('secondary')" class="control-btn">📥 لصق كود في الحقل الثانوي</button>
  </div>

  <div class="section">
    <h2>🎁 الرموز التلقائية المتاحة</h2>
    <div id="auto-coupons"></div>
  </div>

  <div id="add-toast" class="toast-success" style="display:none;">
    ✅ تمت إضافة المنتج إلى السلة
  </div>

  <div class="footer">
    <img src="assets/images/brands/logo_pizzahot_norepeat_clean.png" alt="PIZZA HOT"><br>
    📍 بلعين – شارع صفا – رام الله<br>
    © 2025 PIZZA HOT — جميع الحقوق محفوظة.
  </div>
</div>

<script src="assets/js/config.js"></script>
<script src="assets/js/catalog.js"></script>
<script src="assets/js/cart.js"></script>
<script src="assets/js/discountEngine.js"></script>
<script src="assets/js/rules.js"></script>
<script src="assets/js/messageBuilder.js"></script>
<script src="assets/js/store.js"></script>

<script>
function activatePrimaryCoupon(code) {
  const input = document.getElementById("user-coupon");
  input.value = code;
  input.disabled = true;
  input.style.background = "#eee";
  input.style.cursor = "not-allowed";
  renderCart();
}

function activateSecondaryCoupon(code) {
  document.getElementById("secondary-coupon").value = code;
  renderCart();
}
</script>

</body>
</html>
